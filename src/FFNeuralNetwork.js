//This is a read-only transcription of the neural network I designed in my NEAT-JAVA project.
//It will parse a text file to create a feed forward neural network and then be used to determine which move the snake should make.

export default class NeuralNet {

    static getMove() 
    {
        this.prototype.readBrain();
        this.prototype.interpretBrain("Layer: 0[NewLine]Node: 0[NewLine]Connection to: 0 -- -6.2984295[NewLine]Connection to: 1 -- 3.1636665[NewLine]Connection to: 2 -- 0.44536054[NewLine]Connection to: 3 -- -5.73027[NewLine]Connection to: 4 -- -2.1986563[NewLine]Connection to: 5 -- 0.33286554[NewLine]Connection to: 6 -- 1.6210246[NewLine]Connection to: 7 -- 2.9107373[NewLine]Connection to: 8 -- -1.3562344[NewLine]Connection to: 9 -- 3.3979974[NewLine]Connection to: 10 -- 1.3257775[NewLine]Connection to: 11 -- 1.3817779[NewLine]Connection to: 12 -- 3.5197134[NewLine]Connection to: 13 -- -4.081755[NewLine]Connection to: 14 -- -3.3891108[NewLine]Connection to: 15 -- 4.897754[NewLine]Connection to: 16 -- -4.9354186[NewLine]Connection to: 17 -- -4.9625263[NewLine]Connection to: 18 -- -0.3538024[NewLine]Connection to: 19 -- 5.050925[NewLine]Connection to: 20 -- 9.453971[NewLine]Connection to: 21 -- 3.3905938[NewLine]Connection to: 22 -- -1.6892372[NewLine]Connection to: 23 -- -1.4004489[NewLine]Connection to: 24 -- 3.8438156[NewLine]Connection to: 25 -- -5.751823[NewLine]Connection to: 26 -- -1.9220827[NewLine]Connection to: 27 -- -7.6181016[NewLine]Connection to: 28 -- 2.5703838[NewLine]Connection to: 29 -- -2.2923448[NewLine]Node END[NewLine]Node: 1[NewLine]Connection to: 0 -- 3.335963[NewLine]Connection to: 1 -- 0.0879931[NewLine]Connection to: 2 -- 3.6409264[NewLine]Connection to: 3 -- -1.9541[NewLine]Connection to: 4 -- 0.756131[NewLine]Connection to: 5 -- 1.12885[NewLine]Connection to: 6 -- -2.348428[NewLine]Connection to: 7 -- 2.5418615[NewLine]Connection to: 8 -- -5.12378[NewLine]Connection to: 9 -- 1.551482[NewLine]Connection to: 10 -- -2.7651117[NewLine]Connection to: 11 -- 4.109133[NewLine]Connection to: 12 -- 2.014868[NewLine]Connection to: 13 -- -0.988519[NewLine]Connection to: 14 -- 2.101098[NewLine]Connection to: 15 -- 0.7354096[NewLine]Connection to: 16 -- 1.1103066[NewLine]Connection to: 17 -- 0.7419637[NewLine]Connection to: 18 -- 0.1409659[NewLine]Connection to: 19 -- 1.0539262[NewLine]Connection to: 20 -- -6.4859853[NewLine]Connection to: 21 -- 2.4364712[NewLine]Connection to: 22 -- 1.3687003[NewLine]Connection to: 23 -- 4.1942415[NewLine]Connection to: 24 -- -0.18846452[NewLine]Connection to: 25 -- 0.7351057[NewLine]Connection to: 26 -- -2.7258453[NewLine]Connection to: 27 -- 0.9507491[NewLine]Connection to: 28 -- -2.6439004[NewLine]Connection to: 29 -- -5.316947[NewLine]Node END[NewLine]Node: 2[NewLine]Connection to: 0 -- -1.4486462[NewLine]Connection to: 1 -- 0.7696107[NewLine]Connection to: 2 -- -3.5536282[NewLine]Connection to: 3 -- -0.70661575[NewLine]Connection to: 4 -- -0.47076416[NewLine]Connection to: 5 -- -2.3217168[NewLine]Connection to: 6 -- 1.5214329[NewLine]Connection to: 7 -- 4.1664214[NewLine]Connection to: 8 -- 1.3986474[NewLine]Connection to: 9 -- 4.556046[NewLine]Connection to: 10 -- -2.25805[NewLine]Connection to: 11 -- -5.1773286[NewLine]Connection to: 12 -- 2.1735857[NewLine]Connection to: 13 -- -2.1247683[NewLine]Connection to: 14 -- 1.3167543[NewLine]Connection to: 15 -- 3.8835075[NewLine]Connection to: 16 -- -2.8054764[NewLine]Connection to: 17 -- 2.793965[NewLine]Connection to: 18 -- -5.3573895[NewLine]Connection to: 19 -- 0.14571713[NewLine]Connection to: 20 -- -4.057926[NewLine]Connection to: 21 -- -0.683201[NewLine]Connection to: 22 -- 2.530714[NewLine]Connection to: 23 -- -0.3877133[NewLine]Connection to: 24 -- -5.2944093[NewLine]Connection to: 25 -- 5.500082[NewLine]Connection to: 26 -- -4.402341[NewLine]Connection to: 27 -- -1.9718938[NewLine]Connection to: 28 -- 0.31860083[NewLine]Connection to: 29 -- 4.313374[NewLine]Node END[NewLine]Node: 3[NewLine]Connection to: 0 -- -0.6961146[NewLine]Connection to: 1 -- -0.17708105[NewLine]Connection to: 2 -- 6.969265[NewLine]Connection to: 3 -- -2.3615336[NewLine]Connection to: 4 -- -3.8198674[NewLine]Connection to: 5 -- 1.2391844[NewLine]Connection to: 6 -- 0.8917435[NewLine]Connection to: 7 -- 2.8935966[NewLine]Connection to: 8 -- -6.110619[NewLine]Connection to: 9 -- -3.66243[NewLine]Connection to: 10 -- -1.4744747[NewLine]Connection to: 11 -- 3.043579[NewLine]Connection to: 12 -- -0.5310026[NewLine]Connection to: 13 -- 1.8214378[NewLine]Connection to: 14 -- 1.4398215[NewLine]Connection to: 15 -- 0.22167598[NewLine]Connection to: 16 -- 3.4539235[NewLine]Connection to: 17 -- -3.7270417[NewLine]Connection to: 18 -- -0.28506958[NewLine]Connection to: 19 -- -4.360177[NewLine]Connection to: 20 -- -1.6699599[NewLine]Connection to: 21 -- 0.9542702[NewLine]Connection to: 22 -- -2.0297158[NewLine]Connection to: 23 -- -0.987661[NewLine]Connection to: 24 -- 2.4297423[NewLine]Connection to: 25 -- -2.5624902[NewLine]Connection to: 26 -- -0.25681123[NewLine]Connection to: 27 -- 0.07703827[NewLine]Connection to: 28 -- 1.1792445[NewLine]Connection to: 29 -- -3.5084553[NewLine]Node END[NewLine]Node: 4[NewLine]Connection to: 0 -- 2.7561443[NewLine]Connection to: 1 -- -4.3891068[NewLine]Connection to: 2 -- -0.7228638[NewLine]Connection to: 3 -- -2.382905[NewLine]Connection to: 4 -- -0.18045692[NewLine]Connection to: 5 -- -1.9415848[NewLine]Connection to: 6 -- 0.19877632[NewLine]Connection to: 7 -- 0.92954844[NewLine]Connection to: 8 -- -1.246799[NewLine]Connection to: 9 -- 0.4449762[NewLine]Connection to: 10 -- 1.782787[NewLine]Connection to: 11 -- -0.6449736[NewLine]Connection to: 12 -- -1.4630873[NewLine]Connection to: 13 -- -5.2737527[NewLine]Connection to: 14 -- -1.7464278[NewLine]Connection to: 15 -- -4.361244[NewLine]Connection to: 16 -- -1.6946818[NewLine]Connection to: 17 -- 2.801263[NewLine]Connection to: 18 -- -5.5281487[NewLine]Connection to: 19 -- -7.956191[NewLine]Connection to: 20 -- -1.44099[NewLine]Connection to: 21 -- -2.6976213[NewLine]Connection to: 22 -- 2.0590928[NewLine]Connection to: 23 -- -5.078913[NewLine]Connection to: 24 -- -1.8260887[NewLine]Connection to: 25 -- 2.337608[NewLine]Connection to: 26 -- 3.7465172[NewLine]Connection to: 27 -- 2.5685542[NewLine]Connection to: 28 -- -0.16734333[NewLine]Connection to: 29 -- -2.9931793[NewLine]Node END[NewLine]Node: 5[NewLine]Connection to: 0 -- -0.68471295[NewLine]Connection to: 1 -- 0.6298856[NewLine]Connection to: 2 -- -1.9782717[NewLine]Connection to: 3 -- 2.4037468[NewLine]Connection to: 4 -- -0.862294[NewLine]Connection to: 5 -- 3.3069255[NewLine]Connection to: 6 -- -4.468891[NewLine]Connection to: 7 -- -6.5398793[NewLine]Connection to: 8 -- 5.9923525[NewLine]Connection to: 9 -- -2.9659262[NewLine]Connection to: 10 -- 3.5315154[NewLine]Connection to: 11 -- -0.96283436[NewLine]Connection to: 12 -- -4.42749[NewLine]Connection to: 13 -- -1.7294488[NewLine]Connection to: 14 -- 2.4510677[NewLine]Connection to: 15 -- 4.675973[NewLine]Connection to: 16 -- 3.010618[NewLine]Connection to: 17 -- 3.1957333[NewLine]Connection to: 18 -- -3.3214104[NewLine]Connection to: 19 -- 2.2955368[NewLine]Connection to: 20 -- -0.54609025[NewLine]Connection to: 21 -- -2.4254658[NewLine]Connection to: 22 -- -3.6357539[NewLine]Connection to: 23 -- 0.24861954[NewLine]Connection to: 24 -- -5.589979[NewLine]Connection to: 25 -- -1.4190962[NewLine]Connection to: 26 -- -2.939021[NewLine]Connection to: 27 -- 4.3795476[NewLine]Connection to: 28 -- -0.96653074[NewLine]Connection to: 29 -- -2.5105047[NewLine]Node END[NewLine]Node: 6[NewLine]Connection to: 0 -- 0.61218745[NewLine]Connection to: 1 -- 0.32528305[NewLine]Connection to: 2 -- -5.3364496[NewLine]Connection to: 3 -- -2.2352762[NewLine]Connection to: 4 -- -0.6000396[NewLine]Connection to: 5 -- 1.7885134[NewLine]Connection to: 6 -- -3.762882[NewLine]Connection to: 7 -- 1.4196377[NewLine]Connection to: 8 -- 2.420837[NewLine]Connection to: 9 -- -4.3694706[NewLine]Connection to: 10 -- 0.5397315[NewLine]Connection to: 11 -- -2.2127302[NewLine]Connection to: 12 -- 3.461137[NewLine]Connection to: 13 -- -3.9636214[NewLine]Connection to: 14 -- 0.36840838[NewLine]Connection to: 15 -- -2.7154913[NewLine]Connection to: 16 -- -0.5096426[NewLine]Connection to: 17 -- -3.50527[NewLine]Connection to: 18 -- -0.8904155[NewLine]Connection to: 19 -- 0.8681713[NewLine]Connection to: 20 -- -3.1450765[NewLine]Connection to: 21 -- 2.4671094[NewLine]Connection to: 22 -- -1.8063042[NewLine]Connection to: 23 -- -4.962023[NewLine]Connection to: 24 -- 1.9461834[NewLine]Connection to: 25 -- -2.6668344[NewLine]Connection to: 26 -- -3.128142[NewLine]Connection to: 27 -- -4.9617805[NewLine]Connection to: 28 -- -4.7426534[NewLine]Connection to: 29 -- 0.39898413[NewLine]Node END[NewLine]Node: 7[NewLine]Connection to: 0 -- -1.4570962[NewLine]Connection to: 1 -- 2.1860752[NewLine]Connection to: 2 -- -2.753904[NewLine]Connection to: 3 -- -0.84585565[NewLine]Connection to: 4 -- -4.439315[NewLine]Connection to: 5 -- -0.6747885[NewLine]Connection to: 6 -- 3.9117563[NewLine]Connection to: 7 -- 1.1017786[NewLine]Connection to: 8 -- 4.4893007[NewLine]Connection to: 9 -- 1.7758229[NewLine]Connection to: 10 -- 0.7578015[NewLine]Connection to: 11 -- -3.805398[NewLine]Connection to: 12 -- 1.1336281[NewLine]Connection to: 13 -- -1.3547019[NewLine]Connection to: 14 -- -5.442462[NewLine]Connection to: 15 -- -1.945956[NewLine]Connection to: 16 -- -4.136374[NewLine]Connection to: 17 -- -0.93473727[NewLine]Connection to: 18 -- -1.0621623[NewLine]Connection to: 19 -- 1.4349924[NewLine]Connection to: 20 -- 2.9411995[NewLine]Connection to: 21 -- -0.6753121[NewLine]Connection to: 22 -- 4.1245055[NewLine]Connection to: 23 -- -1.3922502[NewLine]Connection to: 24 -- -0.5502219[NewLine]Connection to: 25 -- -1.9028779[NewLine]Connection to: 26 -- -0.8835885[NewLine]Connection to: 27 -- 5.762194[NewLine]Connection to: 28 -- 0.3569603[NewLine]Connection to: 29 -- 4.896158[NewLine]Node END[NewLine]Node: 8[NewLine]Connection to: 0 -- -3.8742783[NewLine]Connection to: 1 -- 0.5627491[NewLine]Connection to: 2 -- -5.122755[NewLine]Connection to: 3 -- -2.1729527[NewLine]Connection to: 4 -- -0.7013691[NewLine]Connection to: 5 -- -1.0211381[NewLine]Connection to: 6 -- 1.6485546[NewLine]Connection to: 7 -- -1.9154255[NewLine]Connection to: 8 -- 2.6054094[NewLine]Connection to: 9 -- -3.0727751[NewLine]Connection to: 10 -- -1.3031754[NewLine]Connection to: 11 -- -4.992226[NewLine]Connection to: 12 -- 2.0362985[NewLine]Connection to: 13 -- -2.278584[NewLine]Connection to: 14 -- -2.0982301[NewLine]Connection to: 15 -- -0.60162526[NewLine]Connection to: 16 -- 1.1246691[NewLine]Connection to: 17 -- 3.8517[NewLine]Connection to: 18 -- -3.2876885[NewLine]Connection to: 19 -- 1.686568[NewLine]Connection to: 20 -- -1.5175377[NewLine]Connection to: 21 -- -3.0986266[NewLine]Connection to: 22 -- 0.35035694[NewLine]Connection to: 23 -- -0.045644432[NewLine]Connection to: 24 -- 0.64644676[NewLine]Connection to: 25 -- 2.9759796[NewLine]Connection to: 26 -- 1.5051787[NewLine]Connection to: 27 -- -1.0416257[NewLine]Connection to: 28 -- 2.8300855[NewLine]Connection to: 29 -- -1.5573223[NewLine]Node END[NewLine]Node: 9[NewLine]Connection to: 0 -- 3.1010902[NewLine]Connection to: 1 -- -3.809648[NewLine]Connection to: 2 -- -1.4832835[NewLine]Connection to: 3 -- -1.0527569[NewLine]Connection to: 4 -- 2.6898863[NewLine]Connection to: 5 -- 2.7101135[NewLine]Connection to: 6 -- 0.12904726[NewLine]Connection to: 7 -- -1.9363644[NewLine]Connection to: 8 -- 0.53959554[NewLine]Connection to: 9 -- 0.8965079[NewLine]Connection to: 10 -- -1.1976053[NewLine]Connection to: 11 -- -3.927946[NewLine]Connection to: 12 -- -4.553978[NewLine]Connection to: 13 -- -0.68932[NewLine]Connection to: 14 -- -3.4872143[NewLine]Connection to: 15 -- -2.0603292[NewLine]Connection to: 16 -- 0.1841067[NewLine]Connection to: 17 -- -0.5600965[NewLine]Connection to: 18 -- 0.6352225[NewLine]Connection to: 19 -- -0.5594518[NewLine]Connection to: 20 -- -3.194975[NewLine]Connection to: 21 -- 0.9378821[NewLine]Connection to: 22 -- -0.6573402[NewLine]Connection to: 23 -- 1.7500437[NewLine]Connection to: 24 -- 2.7329772[NewLine]Connection to: 25 -- -1.0607928[NewLine]Connection to: 26 -- 0.8361531[NewLine]Connection to: 27 -- 4.3873005[NewLine]Connection to: 28 -- 0.0132844[NewLine]Connection to: 29 -- 3.1024318[NewLine]Node END[NewLine]Layer END[NewLine]Layer: 1[NewLine]Node: 0[NewLine]Connection to: 0 -- 1.9658537[NewLine]Connection to: 1 -- -3.1636577[NewLine]Connection to: 2 -- -5.83833[NewLine]Connection to: 3 -- -3.344322[NewLine]Connection to: 4 -- -1.5039703[NewLine]Connection to: 5 -- 0.027507603[NewLine]Connection to: 6 -- 2.3774297[NewLine]Connection to: 7 -- 2.085425[NewLine]Connection to: 8 -- 4.1547213[NewLine]Connection to: 9 -- -0.19129549[NewLine]Node END[NewLine]Node: 1[NewLine]Connection to: 0 -- -0.6907378[NewLine]Connection to: 1 -- 5.630479[NewLine]Connection to: 2 -- -3.787037[NewLine]Connection to: 3 -- 2.4493556[NewLine]Connection to: 4 -- -2.5161257[NewLine]Connection to: 5 -- -1.2316682[NewLine]Connection to: 6 -- -0.7055978[NewLine]Connection to: 7 -- -5.836292[NewLine]Connection to: 8 -- -3.4681504[NewLine]Connection to: 9 -- 2.643304[NewLine]Node END[NewLine]Node: 2[NewLine]Connection to: 0 -- -2.6054194[NewLine]Connection to: 1 -- -2.292019[NewLine]Connection to: 2 -- 2.5199401[NewLine]Connection to: 3 -- 0.98573846[NewLine]Connection to: 4 -- 0.30459464[NewLine]Connection to: 5 -- -2.0834627[NewLine]Connection to: 6 -- 2.4077652[NewLine]Connection to: 7 -- 1.8084114[NewLine]Connection to: 8 -- -0.8191928[NewLine]Connection to: 9 -- -4.996447[NewLine]Node END[NewLine]Node: 3[NewLine]Connection to: 0 -- -1.3895614[NewLine]Connection to: 1 -- 3.5337746[NewLine]Connection to: 2 -- -0.38068587[NewLine]Connection to: 3 -- 3.5298738[NewLine]Connection to: 4 -- -2.4351845[NewLine]Connection to: 5 -- -1.0067631[NewLine]Connection to: 6 -- 4.8581023[NewLine]Connection to: 7 -- -0.6267918[NewLine]Connection to: 8 -- -1.1716216[NewLine]Connection to: 9 -- 0.4182632[NewLine]Node END[NewLine]Node: 4[NewLine]Connection to: 0 -- 0.087876275[NewLine]Connection to: 1 -- 2.2134337[NewLine]Connection to: 2 -- 1.5336401[NewLine]Connection to: 3 -- 0.89074117[NewLine]Connection to: 4 -- 0.77650064[NewLine]Connection to: 5 -- -2.3877566[NewLine]Connection to: 6 -- -1.6117015[NewLine]Connection to: 7 -- 1.9723303[NewLine]Connection to: 8 -- -6.4343324[NewLine]Connection to: 9 -- -2.554445[NewLine]Node END[NewLine]Node: 5[NewLine]Connection to: 0 -- 1.8596427[NewLine]Connection to: 1 -- -4.2680063[NewLine]Connection to: 2 -- 1.8424852[NewLine]Connection to: 3 -- -2.96356[NewLine]Connection to: 4 -- 9.211372[NewLine]Connection to: 5 -- 0.3942684[NewLine]Connection to: 6 -- -3.926311[NewLine]Connection to: 7 -- 0.6361272[NewLine]Connection to: 8 -- -0.577265[NewLine]Connection to: 9 -- -0.48447[NewLine]Node END[NewLine]Node: 6[NewLine]Connection to: 0 -- -0.37769246[NewLine]Connection to: 1 -- 1.403427[NewLine]Connection to: 2 -- 0.2822119[NewLine]Connection to: 3 -- -2.5210602[NewLine]Connection to: 4 -- -4.939851[NewLine]Connection to: 5 -- -1.0299714[NewLine]Connection to: 6 -- 3.0367198[NewLine]Connection to: 7 -- 1.0901295[NewLine]Connection to: 8 -- -0.14893275[NewLine]Connection to: 9 -- -0.6815803[NewLine]Node END[NewLine]Node: 7[NewLine]Connection to: 0 -- -4.4606953[NewLine]Connection to: 1 -- -2.92741[NewLine]Connection to: 2 -- 1.4958324[NewLine]Connection to: 3 -- -4.0352097[NewLine]Connection to: 4 -- -7.5337863[NewLine]Connection to: 5 -- -0.88785475[NewLine]Connection to: 6 -- 1.1071258[NewLine]Connection to: 7 -- -1.2003232[NewLine]Connection to: 8 -- -0.37070268[NewLine]Connection to: 9 -- 0.59109753[NewLine]Node END[NewLine]Node: 8[NewLine]Connection to: 0 -- -1.8628513[NewLine]Connection to: 1 -- -1.6944757[NewLine]Connection to: 2 -- -2.1635683[NewLine]Connection to: 3 -- 3.0345228[NewLine]Connection to: 4 -- 1.2499244[NewLine]Connection to: 5 -- -0.015436232[NewLine]Connection to: 6 -- -0.06603378[NewLine]Connection to: 7 -- -3.720306[NewLine]Connection to: 8 -- 0.015190691[NewLine]Connection to: 9 -- -2.6278827[NewLine]Node END[NewLine]Node: 9[NewLine]Connection to: 0 -- 3.8429487[NewLine]Connection to: 1 -- 1.0043622[NewLine]Connection to: 2 -- -3.761774[NewLine]Connection to: 3 -- -4.3876443[NewLine]Connection to: 4 -- -4.212576[NewLine]Connection to: 5 -- -2.6805944[NewLine]Connection to: 6 -- 4.632889[NewLine]Connection to: 7 -- -2.9063709[NewLine]Connection to: 8 -- -3.9873724[NewLine]Connection to: 9 -- -1.3894832[NewLine]Node END[NewLine]")
        return(Math.floor(Math.random() / 0.3))
    }

    //Access file and extract brain string
    readBrain()
    {
        
    }

    //Convert string into usable data structure
    //To improve efficiency massively I can change the structure brain is stored in so there's less linear searching.
    //Test using a js variable brainStr to decouple with readBrain() temporarily
    interpretBrain(brainStr)
    {
        let brainLines = brainStr.split("[NewLine]");

        //First determine the shape of the brain by counting layers and edges
        //Because it's fully connected, we can deduce nodes by edges in previous layer
        //then use a map to store activation energy of each node based on cumulative edge inputs
        let currentLayer = 0;
        let currentNode = 0;
        let brain = []; //May need to change brain structure later if we don't want fully connected
        let currentNodeConnections = []
        for(let i = 0; i < brainLines.length; i++)
        {
            if(brainLines[i].startsWith("Layer: "))
            {
                currentLayer = parseInt(brainLines[i].split(": ")[1]);
                brain.push([]);
            }
            
            else if(brainLines[i].startsWith("Node: "))
            {
                currentNode = parseInt(brainLines[i].split(": ")[1]);
                brain[currentLayer].push([]);
            }

            //Could use first value as test to see if they match index?
            else if(brainLines[i].startsWith("Connection to: "))
            {
                let edgeWeight = parseFloat(brainLines[i].split("-- ")[1]);
                brain[currentLayer][currentNode].push(edgeWeight);
            }
        }

        console.log(brain);
    }

    //bestBrain = ""; //insert here flattened brain string with newline character replaced with | or something
  }

class Node 
{
    id = -1;
    outgoingEdges = new Object(); //List of connected nodes with their associated edge weight.
}


